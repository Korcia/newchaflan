/*

Scripts
Author: Sebastian Nilsson

*//* ------------------------------------------------

	- Startpage Slider

------------------------------------------------ */function loadVideo(e,t,n){e.find("img").remove();e.append('<iframe width="100%" height="'+t+'" wmode="Opaque" src="http://www.youtube.com/embed/'+n+'?wmode=transparent&amp;autoplay=1" frameborder="0" allowfullscreen></iframe>');e.find(".play-btn").remove()}var FeatureSlider=function(){var e=$("#slides"),t=$("#control-nav li a"),n=function(){r();e.superslides({play:!0,slide_easing:"easeInOutCubic",slide_speed:800,pagination:!1,hashchange:!0})},r=function(){$.each(e.find("img"),function(e,t){var n=$(t),r;Modernizr.mq("screen and (max-width:650px)")?r=n.data("smallimg"):r=n.data("largeimg");n.attr("src",r)})},i=function(e){navOrderIcon=$("#order-nav-"+e).find(".nav-order-icon");navOrderIcon.parent().parent().siblings().find(".active-icon").removeClass("active-icon");navOrderIcon.addClass("active-icon")},s=function(t){e.superslides("animate",t)};t.on("click",function(e){e.preventDefault();var t=$(this).data("navindex");i(t);s(t)});$("body").on("slides.animated",function(){var t=e.find(".current").data("sliderindex");i(t)});n()},DecorationController=function(){var e=!1,t=$(".decoration"),n=$(".content-col"),r=function(){var r=t.offset().top,o=n.offset().top+$(".content-col").height();r<o?e||i():e||s()},i=function(){e=!0;$(".decoration").stop().animate({opacity:0},function(){e=!1})},s=function(){e=!0;$(".decoration").stop().animate({opacity:1},function(){e=!1})};r();$(window).resize(function(){r()})};$(".decoration").length>0&&DecorationController();var MenuPicker=function(){var e=!1,t=$("#food-menu-links li a"),n=!1,r=!1,i=function(){s()},s=function(){var e=window.location.hash,n=e.replace("#","");$.each(t,function(e,t){var r=$(t);if(r.data("postname")==n){a(r);f(r.data("menuid"));Modernizr.mq("screen and (max-width:960px)")&&l()}})},o=function(e){window.location.hash=e},u=function(){$(".pick-menu-title").animate({height:0,padding:0,opacity:0,margin:0},function(){$(this).css("display","none")});r=!0},a=function(e){var t=e.parent();o(e.data("postname"));t.siblings().removeClass("active");t.addClass("active")},f=function(t){activeMenu=$("#menu-holder").find("#menu-"+t);r||u();if(!e){e=!0,activeMenu.siblings().removeClass("active-menu").stop().animate({opacity:0},function(){$(this).css("display","none");activeMenu.css("display","block").stop().animate({opacity:1}).addClass("active-menu")});$(".img-col").stop().animate({opacity:0},function(){});e=!1}},l=function(){if(!n){$(".menu-page-text-wrap").fadeOut();n=!0}};$("#food-menu-links li a").on("click",function(e){e.preventDefault();a($(this));f($(this).data("menuid"));Modernizr.mq("screen and (max-width:960px)")&&l()});i()};MenuPicker();var TryOutPage=function(){var e=$(".centered-circle"),t=$(".provning-slide");tryOutContent=$(".tryouts-content"),circleWrap=$("#circle-wrap"),tryOutsWrap=$("#tryouts-wrap"),animateSpeed=600;var n=function(){circleWrap.stop().animate({opacity:0},animateSpeed)},r=function(){circleWrap.stop().animate({opacity:1},animateSpeed)},i=function(){tryOutsWrap.stop().animate({opacity:0},animateSpeed,function(){$("html, body").animate({scrollTop:"0px"},function(){tryOutsWrap.css("display","none")})})},s=function(){tryOutsWrap.css("display","block").stop().animate({opacity:1},animateSpeed)},o=function(e){var n;e=="right"?n="100%":n="0%";t.stop().animate({right:n},animateSpeed)},u=function(){o("right");n();s()},a=function(){o("left");i();r()};$(".large-show-btn").on("click",function(e){e.preventDefault();u()});$("#tryouts-back-btn").on("click",function(e){e.preventDefault();a()})};TryOutPage();var LaxenMap=function(){var e=!1,t=function(e){function n(){var n={zoom:15,scrollwheel:!1,center:new google.maps.LatLng(56.903683,12.49197),disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP};t=new google.maps.Map(document.getElementById(e),n);var r=new google.maps.LatLng(56.903731,12.492397),i=new google.maps.Marker({position:r,map:t}),s=[{stylers:[{saturation:-53},{hue:"#ffcc00"},{lightness:20}]}];t.setOptions({styles:s})}var t;google.maps.event.addDomListener(window,"load",n);Modernizr.mq("screen and (min-width:961px)")&&google.maps.event.addDomListener(window,"resize",function(){var n=$("#"+e),r=new google.maps.LatLng(56.903731,12.492397);n.css("height",$(window).height());t.setCenter(r)})},n=function(){var n="laxen-map";if(Modernizr.mq("screen and (max-width:960px)")){n="laxen-map-mobile";e=!0}t(n)};$("#posts").hasClass("kontakta-oss")&&n()};LaxenMap();var submenuFade=function(){var e=$("#sub-menu-bg"),t=$('header[role="banner"] .sub-menu');t.parent().addClass("parent-link");$(".parent-link").hover(function(){e.css("display","block").stop().animate({opacity:1});$(this).find(".sub-menu a").stop().animate({opacity:1})},function(){e.stop().animate({opacity:0},function(){$(this).css("display","none")});$(this).find(".sub-menu a").stop().animate({opacity:0})})};submenuFade();var LaxenDeliCategories=function(){var e=$("#deli-menu li a"),t=$("#deli-cover"),n=$("#deli-right-col"),r=!1,i=function(){s()},s=function(){var t=window.location.hash,n=t.replace("#","");$.each(e,function(e,t){var r=$(t);if(r.data("postname")==n){r.addClass("active-link");l(r.data("postid"))}})},o=function(e){window.location.hash=e},u=function(){t.animate({opacity:0},function(){$(this).css("display","none")})},a=function(){n.css("display","block").animate({opacity:1})},f=function(e){e.parent().siblings().find("a").removeClass("active-link");o(e.data("postname"));e.addClass("active-link")},l=function(e){var t=n.find(".deli-cat-"+e);u();a();r||t.siblings().stop().animate({opacity:0},function(){r=!0;$(this).css("display","none");t.css("display","block");t.stop().animate({opacity:1}).addClass("current-cat");r=!1}).removeClass("current-cat")};i();e.on("click",function(e){e.preventDefault();f($(this));l($(this).data("postid"))})};LaxenDeliCategories();var LaxenHistory=function(){var e=$("#draggable-images .draggable");e.draggable()};LaxenHistory();var AboutLaxen=function(){$("#about-laxen").on("click",function(e){e.preventDefault();$("#laxarna-pic").animate({opacity:0},function(){$(this).css("display","none");$("#laxarna-text").css("display","block").animate({opacity:1});var e=$("#standard-bg").data("bgimage");$.backstretch(e)})})};AboutLaxen();var MobileMenu=function(){var e=$("#mobile-banner"),t=$("#mobile-menu"),n=t.find(".menu").height(),r=e.find(".open-mobile-menu"),i=function(){n==0&&(n=t.find(".menu").height());t.stop().animate({opacity:1,height:n});console.log(n)},s=function(){t.stop().animate({opacity:0,height:0})},o=function(){var e=t.find("li a"),n=0;$.each(e,function(e,t){var r=$(t);if(n==0){r.css("borderRight","1px solid #fff");n++}else n==1&&(n=0)})};r.toggle(function(e){e.preventDefault();i()},function(e){e.preventDefault();s()});o()};MobileMenu();if(navigator.userAgent.match(/iPhone/)){addEventListener("load",function(){setTimeout(hideURLbar,0)},!1);function hideURLbar(){window.scrollTo(0,1)}}$(".movie-thumb-overlay").on("click",function(){var e=$(this).find("img").height(),t=$(this).data("videoid");loadVideo($(this),e,t)});$(".img-col").css({backgroundSize:"cover"});$(document).ready(function(){if($("body").hasClass("home"))FeatureSlider();else if($("body").hasClass("page-template-page-laxen-php")===!1){var e=$("#standard-bg").data("bgimage");$.backstretch(e)}$("body").bind("swipeleft",function(){alert("Tjena")})});
